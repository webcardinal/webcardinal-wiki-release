const n=function(){if(!window.DOMParser)return!1;const n=new DOMParser;try{n.parseFromString("x","text/html")}catch(n){return!1}return!0}(),t=function(t){if(n)return(new DOMParser).parseFromString(t,"text/html").body;const r=document.createElement("div");return r.innerHTML=t,r},r=function(n,t=!1){return Array.prototype.map.call(n.childNodes,(function(n){const u={content:n.childNodes&&n.childNodes.length>0?null:n.textContent,atts:1!==n.nodeType?[]:(e=n.attributes,Array.prototype.map.call(e,(function(n){return{att:n.name,value:n.value}}))),type:3===n.nodeType?"text":8===n.nodeType?"comment":n.tagName.toLowerCase(),node:n,isSVG:null,children:null};var e;return u.isSVG=t||"svg"===u.type,u.children=r(n,u.isSVG),u}))},u=function(n,t){t.forEach((function(t){n.style[t]=""}))},e=function(n,t){t.forEach((function(t){"class"===t.att?n.className=t.value:"style"===t.att?function(n,t){const r=function(n){return n.split(";").reduce((function(n,t){if(t.trim().indexOf(":")>0){const r=t.split(":");n.push({name:r[0]?r[0].trim():"",value:r[1]?r[1].trim():""})}return n}),[])}(t),e=Array.prototype.filter.call(n.style,(function(t){return void 0===r.find((function(r){return r.name===t&&r.value===n.style[t]}))}));u(n,e),function(n,t){t.forEach((function(t){n.style[t.name]=t.value}))}(n,r)}(n,t.value):n.setAttribute(t.att,t.value||!0)}))},o=function(n){let t;return t="text"===n.type?document.createTextNode(n.content):"comment"===n.type?document.createComment(n.content):n.isSVG?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),e(t,n.atts),n.children.length>0?n.children.forEach((function(n){t.appendChild(o(n))})):"text"!==n.type&&(t.textContent=n.content),t},c=function(n,t,r){let i=t.length-n.length;if(i>0)for(;i>0;i--)t[t.length-i].node.parentNode.removeChild(t[t.length-i].node);n.forEach((function(i,f){if(t[f])if(n[f].type===t[f].type)if(function(n,t){const r=t.atts.filter((function(t){return void 0===n.atts.find((function(n){return t.att===n.att}))})),o=n.atts.filter((function(n){const r=t.atts.find((function(t){return n.att===t.att}));return void 0===r||r.value!==n.value}));var c;e(t.node,o),c=t.node,r.forEach((function(n){"class"===n.att?c.className="":"style"===n.att?u(c,Array.prototype.slice.call(c.style)):c.removeAttribute(n.att)}))}(n[f],t[f]),n[f].content!==t[f].content&&(t[f].node.textContent=n[f].content),t[f].children.length>0&&i.children.length<1)t[f].node.innerHTML="";else{if(t[f].children.length<1&&i.children.length>0){const n=document.createDocumentFragment();return c(i.children,t[f].children,n),void r.appendChild(n)}i.children.length>0&&c(i.children,t[f].children,t[f].node)}else t[f].node.parentNode.replaceChild(o(n[f]),t[f].node);else r.appendChild(o(n[f]))}))};export{r as c,c as d,t as s}