import{r as e,h as a,c as t}from"./p-bb51835b.js";import{H as o}from"./p-5e0464e4.js";import{i as p}from"./p-9b22281c.js";import{c as r}from"./p-825886f6.js";import{p as i}from"./p-f8a2682a.js";import"./p-e506992e.js";import{U as n}from"./p-f5c9fd96.js";import"./p-3934984c.js";const m=class{constructor(a){e(this,a),this.slots={before:!1,after:!1,unnamed:!1}}async componentWillLoad(){if(this.host.isConnected){this.slots.unnamed=this.host.children.length>0;for(const e of Object.keys(this.slots))this.host.querySelector(`[slot=${e}]`)?(this.slots[e]=!0,this.host.classList.add(`slot-${e}`)):this.host.classList.remove(`slot-${e}`)}}render(){return[this.slots.before?a("div",{class:"container before"},a("slot",{name:"before"})):null,a("div",{class:"container app-container"},a(this.slots.unnamed?"slot":"webc-app-router",null)),this.slots.after?a("div",{class:"container after"},a("slot",{name:"after"})):null]}};(function(e,a,t,o){var p,r=arguments.length,i=r<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,a,t,o);else for(var n=e.length-1;n>=0;n--)(p=e[n])&&(i=(r<3?p(i):r>3?p(a,t,i):p(a,t))||i);r>3&&i&&Object.defineProperty(a,t,i)})([o()],m.prototype,"host",void 0),m.style={default:"webc-app-container{width:100%;height:100%;display:grid;grid-template-columns:1fr;grid-template-rows:1fr;gap:var(--gap);overflow-y:auto;background:var(--background)}webc-app-container .container{max-width:100%;padding:0}webc-app-container.slot-before{grid-template-rows:auto 1fr}webc-app-container.slot-after{grid-template-rows:1fr auto}webc-app-container.slot-before.slot-after{grid-template-rows:auto 1fr auto}"};const c=class{constructor(a){e(this,a)}handleAppWarning(e){var a;(null===(a=e.detail)||void 0===a?void 0:a.length)&&this.addToast("warning",this.getWarningToastContent([...e.detail]))}handleAppError(e){this.addToast("error",this.getErrorToastContent(e.detail))}getErrorToastContent(e){const{message:a,url:t,lineNo:o,columnNo:p,error:r,isScriptError:i}=e;let n="",m="";return i||(m='<span class="see-more">[See more]</span>',n=`\n            <div class="see-more-content">${r?r.stack.replace(/(?:\r\n|\r|\n)/g,"<br>").replace(/ /g,"Â "):""}</div>\n            <div class="details">\n                URL: ${t}<br />\n                Line: ${o} / Column: ${p}<br />\n            </div>\n        `),`\n        <div class="title">\n            <button type="button" class="close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <div class="message">${a} ${m}</div>\n        </div>\n        ${n}\n    `}getWarningToastContent(e){return`\n        <div class="title">\n            <button type="button" class="close">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <div class="message">${e.join("<br/>")}</div>\n        </div>\n    `}addToast(e,a){const t=document.createElement("div");t.className=`webc-toast ${e}`,t.innerHTML=a,this.host.append(t);const o=t.querySelector(".see-more");o&&o.addEventListener("click",(()=>{o.remove();const e=t.querySelector(".see-more-content");e&&e.classList.add("show")})),t.querySelector("button.close").addEventListener("click",(()=>{t.classList.add("closing"),setTimeout((()=>t.remove()),490)}))}render(){return null}};(function(e,a,t,o){var p,r=arguments.length,i=r<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,a,t,o);else for(var n=e.length-1;n>=0;n--)(p=e[n])&&(i=(r<3?p(i):r>3?p(a,t,i):p(a,t))||i);r>3&&i&&Object.defineProperty(a,t,i)})([o()],c.prototype,"host",void 0),c.style={default:"webc-app-error-toast{pointer-events:none;position:fixed;right:0;bottom:0;width:var(--width);max-width:100vw;height:auto}webc-app-error-toast .webc-toast{pointer-events:auto;text-align:left;border-radius:var(--radius);margin:var(--margin);padding:var(--padding);z-index:var(--z-index);right:0;bottom:10px;max-height:var(--max-height);overflow-y:auto;animation:webc-app-error-toast-fadein 0.5s}webc-app-error-toast .webc-toast.closing{animation:webc-app-error-toast-fadeout 0.5s}webc-app-error-toast .webc-toast.error{color:var(--error-color);background-color:var(--error-background)}webc-app-error-toast .webc-toast.warning{background-color:var(--warning-background);color:var(--warning-color)}webc-app-error-toast .webc-toast .title{position:relative}webc-app-error-toast .webc-toast .title .close{position:absolute;top:-10px;right:-10px;padding:2px 4px;background-color:transparent;border:none;cursor:pointer;font-size:28px}webc-app-error-toast .webc-toast .title .close:focus{outline:none}webc-app-error-toast .webc-toast .title .message{font-size:1.1rem;margin-right:20px}webc-app-error-toast .webc-toast .title .message .see-more{cursor:pointer}webc-app-error-toast .webc-toast .see-more-content{display:none;padding:10px 0}webc-app-error-toast .webc-toast .see-more-content.show{display:block}webc-app-error-toast .webc-toast .details{font-size:0.9rem;margin-top:5px}@keyframes webc-app-error-toast-fadein{from{bottom:-30px;opacity:0}to{bottom:10px;opacity:1}}@keyframes webc-app-error-toast-fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}"};const{trimEnd:d}=n,l=class{constructor(o){e(this,o),this.getRoutingConfigEvent=t(this,"webcardinal:config:getRouting",7),this.items=[],this.basePath="",this.disableIdentity=!1,this.slots={before:!1,after:!1},this.modes=Object.keys(this._menu),this.defaultMode=this.modes[0],this.mode=this.defaultMode,this._extractItems=e=>{const a=[];for(const t of e){if(!t.indexed)continue;const e={name:t.name,path:t.path};t.children&&t.children.length>0&&(e.children=this._extractItems(t.children)),a.push(e)}return a},this._renderItem=e=>a("webc-app-menu-item",Object.assign({},{basePath:this.basePath,item:{path:e.path,children:e.children},menuElement:this.host,mode:this.mode,name:e.name}))}_toggleActiveItem(){const e=`webc-app-menu-item[url="${window.location.pathname}"]`,a=this.host.querySelector(e);a&&a.deactivate().then(a.activate())}_renderItems(e=[],a=this._renderItem){return Array.isArray(e)&&0!==e.length?e.map((e=>a(e))):null}async componentWillLoad(){if(this.host.isConnected){if(this.computedStyles=window.getComputedStyle(this.host),this.disableIdentity="true"===this.computedStyles.getPropertyValue("--disable-identity").trim(),0===this.items.length)try{const e=await i(this.getRoutingConfigEvent);this.items=this._extractItems(e.pages),this.basePath=d(new URL(e.baseURL).pathname)}catch(e){console.error(e)}this.modes.includes(this.mode)||(console.warn(`You must use one of the following modes: ${this.modes.join(", ")}\n`,"target element:",this.host),this.mode=this.defaultMode);for(const e of Object.keys(this.slots))this.host.querySelector(`[slot=${e}]`)?(this.slots[e]=!0,this.host.classList.add(`slot-${e}`)):this.host.classList.remove(`slot-${e}`)}}get _menu(){const e=()=>[this.slots.before?a("div",{class:"container before"},a("slot",{name:"before"})):null,a("div",{class:"container content"},this.disableIdentity?null:a("webc-app-identity",null),a("div",{class:"app-menu items"},this._renderItems(this.items))),this.slots.after?a("div",{class:"container after"},a("slot",{name:"after"})):null];return{vertical:e(),horizontal:e(),mobile:(()=>[this.slots.before?a("div",{class:"container before"},a("slot",{name:"before"})):null,a("header",null,this.disableIdentity?null:a("webc-app-identity",null),a("div",{class:"app-menu-toggle"},a("button",{class:"burger",onClick:(()=>{this.host.hasAttribute("active")?(this.host.removeAttribute("visible"),setTimeout((()=>{this.host.removeAttribute("active")}),r(this.computedStyles.getPropertyValue("--backdrop-transition-delay"))||200)):(this.host.setAttribute("active",""),setTimeout((()=>{this.host.setAttribute("visible","")}),5))}).bind(this)},a("span",{class:"line"}),a("span",{class:"line"}),a("span",{class:"line"})))),this.slots.after?a("div",{class:"container after"},a("slot",{name:"after"})):null,a("div",{class:"app-menu-backdrop"},a("aside",{class:"app-menu items"},this._renderItems(this.items)))])()}}render(){return this.history?(this.history.listen(this._toggleActiveItem.bind(this)),this._menu[this.mode]):null}};(function(e,a,t,o){var p,r=arguments.length,i=r<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,a,t,o);else for(var n=e.length-1;n>=0;n--)(p=e[n])&&(i=(r<3?p(i):r>3?p(a,t,i):p(a,t))||i);r>3&&i&&Object.defineProperty(a,t,i)})([o()],l.prototype,"host",void 0),p(l),l.style={horizontal:'webc-app-menu{display:grid;z-index:var(--z-index)}webc-app-menu .container{max-width:100%;padding:0}webc-app-menu webc-app-menu-item{display:flex}webc-app-menu webc-app-menu-item .item{cursor:pointer}webc-app-menu webc-app-menu-item .item,webc-app-menu webc-app-menu-item .item a{text-decoration:none}webc-app-menu[mode=horizontal]{grid-template-columns:1fr;grid-template-rows:1fr;gap:var(--gap);position:sticky;top:0;left:0;right:0;color:var(--color);height:var(--height);background:var(--background);padding:var(--padding);box-shadow:var(--box-shadow)}webc-app-menu[mode=horizontal].slot-before{grid-template-columns:auto 1fr}webc-app-menu[mode=horizontal].slot-after{grid-template-columns:1fr auto}webc-app-menu[mode=horizontal].slot-before.slot-after{grid-template-columns:auto 1fr auto}webc-app-menu[mode=horizontal] .content{display:flex;align-items:center}webc-app-menu[mode=horizontal] .app-menu{display:flex;gap:var(--gap);justify-content:flex-end;width:100%}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item,webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item a{color:var(--color)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown>.items{display:none;margin:var(--dropdown-margin)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown>.items .item{padding:var(--dropdown-items-padding)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown>.items .item,webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown>.items .item>a{color:var(--dropdown-color)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item>.dropdown[active]>.items{display:grid}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]{position:relative}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.item,webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown>.item{display:flex;align-items:center;height:100%}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown>.item{margin-right:var(--triangle-size);padding-right:calc(3 * var(--triangle-size))}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown>.item:after{position:absolute;left:100%;top:50%;margin-top:calc(-0.5 * var(--triangle-size));margin-left:calc(-2 * var(--triangle-size));content:"";display:block;border-left:var(--triangle-size) solid transparent;border-right:var(--triangle-size) solid transparent;border-top:var(--triangle-size) solid var(--color)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown>.items{position:absolute;top:100%;left:0;margin-left:0;padding:var(--dropdown-padding);background:var(--dropdown-background);width:var(--dropdown-width);border-radius:var(--dropdown-radius);box-shadow:var(--dropdown-box-shadow)}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown[active]>.item{font-weight:bold}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown[active]>.items{display:none}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[level="0"]>.dropdown:hover>.items{display:grid}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item[active]{font-weight:bold}webc-app-menu[mode=horizontal] .app-menu webc-app-menu-item:last-child[level="0"] .dropdown>.items{left:initial;right:0}',mobile:'webc-app-menu{display:grid;z-index:var(--z-index)}webc-app-menu .container{max-width:100%;padding:0}webc-app-menu webc-app-menu-item{display:flex}webc-app-menu webc-app-menu-item .item{cursor:pointer}webc-app-menu webc-app-menu-item .item,webc-app-menu webc-app-menu-item .item a{text-decoration:none}webc-app-menu[mode=mobile]{grid-template-columns:1fr;grid-template-rows:1fr;gap:var(--gap);position:sticky;top:0;left:0;right:0;color:var(--color);height:var(--height);background:var(--background);padding:var(--padding);box-shadow:var(--box-shadow)}webc-app-menu[mode=mobile].slot-before{grid-template-columns:auto 1fr}webc-app-menu[mode=mobile].slot-after{grid-template-columns:1fr auto}webc-app-menu[mode=mobile].slot-before.slot-after{grid-template-columns:auto 1fr auto}webc-app-menu[mode=mobile] header{display:flex;justify-content:space-between;align-items:center;background:transparent}webc-app-menu[mode=mobile] header .app-menu-toggle .burger{position:relative;background:transparent;border:0.5rem solid transparent;width:2.5rem;height:2rem}webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line,webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line:before,webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line:after{position:absolute;content:"";left:0;right:0;height:2px;overflow:hidden;margin-top:-1px;border-radius:2px;background:var(--burger-color);transition:all var(--burger-transition-duration) ease-in-out}webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line{top:50%}webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line:first-child{top:0}webc-app-menu[mode=mobile] header .app-menu-toggle .burger .line:last-child{top:100%}webc-app-menu[mode=mobile] .app-menu-backdrop{display:none;position:fixed;left:0;top:var(--height);right:0;bottom:0;z-index:calc(var(--z-index) - 1)}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{display:grid;gap:var(--gap);overflow-y:auto;width:100%;height:100%;padding:1rem;align-content:start}@media screen and (min-width: 320px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(1, 1fr)}}@media screen and (min-width: 640px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(2, 1fr)}}@media screen and (min-width: 960px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(3, 1fr)}}@media screen and (min-width: 1280px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(4, 1fr)}}@media screen and (min-width: 1600px){webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu{grid-template-columns:repeat(5, 1fr)}}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item,webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item a{color:var(--color)}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item>.dropdown>.items{display:none;margin:var(--dropdown-margin);row-gap:var(--dropdown-gap);padding:var(--dropdown-items-padding)}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item>.dropdown[active]>.items{display:grid}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item[level="0"]{padding:var(--items-padding);border-bottom:1px solid var(--items-border-color)}webc-app-menu[mode=mobile] .app-menu-backdrop .app-menu webc-app-menu-item[active]{font-weight:bold}webc-app-menu[mode=mobile] .app-menu-backdrop:after{position:fixed;display:block;content:"";left:0;top:var(--height);right:0;bottom:0;background:var(--backdrop-background);backdrop-filter:var(--backdrop-filter);z-index:-1}webc-app-menu[mode=mobile] .app-menu-backdrop,webc-app-menu[mode=mobile] .app-menu-backdrop:after{opacity:0;pointer-events:none;transition:all var(--backdrop-transition-duration) ease-in-out}webc-app-menu[mode=mobile][active] .app-menu-backdrop{display:flex}webc-app-menu[mode=mobile][active][visible] .app-menu-backdrop,webc-app-menu[mode=mobile][active][visible] .app-menu-backdrop:after{opacity:1;pointer-events:all}webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:first-child,webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:last-child{top:50%}webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:first-child{transform:rotateZ(-45deg)}webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:nth-child(2){height:0}webc-app-menu[mode=mobile][active][visible] .app-menu-toggle .burger .line:last-child{transform:rotateZ(45deg)}',vertical:'webc-app-menu{display:grid;z-index:var(--z-index)}webc-app-menu .container{max-width:100%;padding:0}webc-app-menu webc-app-menu-item{display:flex}webc-app-menu webc-app-menu-item .item{cursor:pointer}webc-app-menu webc-app-menu-item .item,webc-app-menu webc-app-menu-item .item a{text-decoration:none}webc-app-menu[mode=vertical]{grid-template-columns:1fr;grid-template-rows:1fr;gap:var(--gap);overflow-y:auto;min-width:var(--min-width);max-width:var(--max-width);color:var(--color);background:var(--background, var(--webc-primary-background));padding:var(--padding)}webc-app-menu[mode=vertical]::-webkit-scrollbar{width:8px;height:8px}webc-app-menu[mode=vertical]::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb-background);border:var(--scrollbar-thumb-border);border-radius:0}webc-app-menu[mode=vertical]::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover-background)}webc-app-menu[mode=vertical]::-webkit-scrollbar-track{background:var(--scrollbar-track-background);border-radius:0}webc-app-menu[mode=vertical].slot-before{grid-template-rows:auto 1fr}webc-app-menu[mode=vertical].slot-after{grid-template-rows:1fr auto}webc-app-menu[mode=vertical].slot-before.slot-after{grid-template-rows:auto 1fr auto}webc-app-menu[mode=vertical] .content{display:grid;row-gap:var(--gap);grid-template-rows:auto 1fr}webc-app-menu[mode=vertical] .app-menu{margin-top:1rem}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item>.dropdown>.items{display:none;margin:var(--dropdown-margin);row-gap:var(--dropdown-gap);padding:var(--dropdown-items-padding)}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item>.dropdown[active]>.items{display:grid}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item[level="0"]{padding:var(--items-padding);border-top:1px solid var(--border-color)}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item[level="0"]:last-child{border-bottom:1px solid var(--border-color)}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item[active]{font-weight:bold}webc-app-menu[mode=vertical] .app-menu webc-app-menu-item,webc-app-menu[mode=vertical] .app-menu webc-app-menu-item a{color:var(--color)}webc-app-menu[mode=vertical][disable-identity] .content{grid-template-rows:1fr}'};export{m as webc_app_container,c as webc_app_error_toast,l as webc_app_menu}